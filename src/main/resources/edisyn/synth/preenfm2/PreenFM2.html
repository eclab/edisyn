<html><head></head>
<body>


<h1>PreenFM2</h1> 
<h2>Single Patch Editor</h2>

<p>This editor will work with the <b>PreenFM2</b>.  It probably won't work with the PreenFM.

<br><br><h3>Communicating with Edisyn</h3>

Set up your PreenFM2 to emit NRPN (not CC) and to receive NRPN (or CC+NRPN).  The PreenFM2 should also be set up to accept Program changes.   Note that Edisyn will only read from and write to <b>Instrument 1</b>.

<br><br><h3>About the Algorithm Diagrams</h3>

The PreenFM2 has 28 algorithms.  Each algorithm contains <b>operators</b> 
connected by <b>Modulation Indices</b>.  The <b>Output</b> of some of the operators is panned and then mixed to form a final sound.

<p>Edisyn's diagrams represent <b>Operators</b> with little square boxes, each labelled with the operator number.  Operators are connected to other operators with lines whose numbers are the <b>Modulation Indices</b>.  Higher operators feed into lower operators.  Finally, some lines come out of the bottom of Operators but are not connected to other Operators.  These are <b>Outputs</b>.  If an output line is unlabelled, then its output number is the same as the operator number.  If an output line is labelled (in parentheses), then that is its output number.

<br><br><h3>Fun Feature</h3>

Frustrated with setting Operator Frequency values?  There's a way to restrict the (non-fixed) ratios to the limited "greatest hits" subset that Yamaha had provided for 4-operator devices such as the TX81Z, DX100, and so on.  Just drag the Operator Frequency knob while holding down the SHIFT key, or drag with the right mouse button, or (on the Mac), click and drag with two fingers.

<br><br><h3>About the Menu</h3>

If you mutate or recombine patches (using randomize, merge, hill-climb, or nudge) it may result in unfortunate operator frequency results.  The <b>Restrict Mutated Frequency Ratios...</b> menu lets you restrict mutation or recombination of operator frequecies so that they only result in integer values or the set provided by the Yamaha TX81Z (integers plus some other interesting decisions).  I suggest integers.  Note that this restriction will impact both frequency ratios <i>and</i> fixed frequencies.  For this reason I also suggest you edit the mutation parameters to remove the fixed frequency checkbox as an option for mutation.


<br><br><h3>Gotchas</h3>

<ul>
<li>
The PreenFM2 has an unusual approach to upoading and downloading sounds which can be challenging to use with an editor.  Specifically, it doesn't upload or download via sysex.  Rather, Edisyn can send and receive NRPN commands to change individual parameters.  

<p>
<p>As a result, <b>you cannot write patches and you cannot send them to specific locations. </b> To write a patch, you should send the current patch (which sends it to Instrument 1), and then manually save the patch on the PreenFM2.

<p>Because the PreenFM2's parameters don't come in all at one time as a single sysex dump, <b>merging</b> may be flakey.  Edisyn waits until it sees parameter number 399 (notionally the last PreenFM2 parameter sent) to come in.  If it doesn't see this parameter (perhaps due to a MIDI transmission error), then it may stay in merging mode.  You can get it out of merging mode simply by doing a Request Current Patch or Request Patch...

<p><li>If you send a full parameter dump to the PreenFM2 at full MIDI speed, it bombs.  So Edisyn is forced to send at about 1/3 speed.  Oh well.

<p><li>If you have the Arpeggiator Latch turned on, the PreenFM2 ignores All Sounds Off: the arpeggiator keeps on going.  To shut up the PreenFM2 in this situation, press INST and MENU at the same time on the machine.

<p><li>The Operator Frequency as displayed in the synth is often 0.01 off of what was provided it by Edisyn.  Similarly, the Fixed Operator Frequency (+/- fine tune) is 1 off of what was provided it by Edisyn about half the time.

<p><li>Changing the Operator Fixed/Keyboard flag via NRPN does not refresh the screen for the frequency and fine tune.

<p><li>I have seen problems with the PreenFM2 sending four times as much data as it should when asked to send a patch to Edisyn.  (I'm testing OS X).  If you're seeing strangely long load times (several seconds), try switching to 5-pin MIDI rather than USB: it seems to solve things.

<p>
</ul>

<p><table border=0 cellpadding=0 cellspacing=5>
<tr>
<td align=right>By&nbsp;&nbsp;&nbsp; 
<td><b>Sean Luke</b>
<tr>
<td align=right>Date&nbsp;&nbsp;&nbsp;
<td>July 2017 
</table>

